(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,t(e.microbitFs={}))})(this,function(e){'use strict';var Z=Number.isInteger,J=String.prototype,q=Math.min,Q=Math.floor,ee=Math.ceil,te=Math.max,ne=Math.pow;function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return s(e)||d(e,t)||c(e,t)||p()}function s(e){if(Array.isArray(e))return e}function d(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i["return"]||i["return"]()}finally{if(a)throw o}}return n}}function c(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(t){s=!0,a=t},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function y(e){return 255&-e.reduce(function(e,t){return e+t},0)}function h(e,t){var n=e.reduce(function(e,t){return e+t},0),r=t.reduce(function(e,t){return e+t},0);return 255&-(n+r)}function m(e){return e.toString(16).toUpperCase().padStart(2,"0")}function E(e){var t=new Ua;return t.encode(e)}function S(e){var t=new Ya;return t.decode(e)}function _(e){return e.replace(":::::::::::::::::::::::::::::::::::::::::::\n","")}function b(e){var t=e.length+4;t%16&&(t+=16-t%16);var n=new Uint8Array(t).fill(0);return n[0]=77,n[1]=80,n[2]=255&e.length,n[3]=255&e.length>>8,n.set(e,4),n}function P(t){var n;if("string"==typeof t){var r=_(t);n=Da.fromHex(r)}else n=t;var a=n.slicePad(e.AppendedBlock.StartAdd,2,255);return a[0]===77&&a[1]===80}function v(e,t){var n=e.slicePad(t,4,255);return new DataView(n.buffer).getUint32(0,!0)}function T(e,t){var n=e.slicePad(t,2,255);return new DataView(n.buffer).getUint16(0,!0)}function x(e,t){for(var n=e.slice(t).get(t),r=0;r<n.length&&0!==n[r];)r++;if(r===n.length)return"";var a=n.slice(0,r);return S(a)}function A(e){for(var t,n=O(e),r=0,a=Va;r<a.length;r++)if(t=a[r],t.magicHeader===n)return!0;return!1}function O(e){return v(e,$a.MagicValue)}function I(e){for(var t,n=O(e),r=0,a=Va;r<a.length;r++)if(t=a[r],t.magicHeader===n)return t.deviceVersion;throw new Error("Cannot find device version, unknown UICR Magic value")}function F(e){for(var t,n=O(e),r=0,a=Va;r<a.length;r++)if(t=a[r],t.magicHeader===n)return t.flashSize;throw new Error("Cannot find flash size, unknown UICR Magic value")}function R(e){var t=v(e,$a.PageSize);return ne(2,t)}function M(e){return T(e,$a.StartPage)}function B(e){return T(e,$a.PagesUsed)}function L(e){return v(e,$a.VersionLocation)}function N(e){var t=e.slice(268439744);if(!A(t))throw new Error("Could not find valid MicroPython UICR data.");var n=R(t),r=F(t),a=M(t),o=B(t),l=L(t),i=x(e,l),s=I(t);return{flashPageSize:n,flashSize:r,runtimeStartPage:a,runtimeStartAddress:a*n,runtimeEndUsed:o,runtimeEndAddress:o*n,uicrStartAddress:$a.MagicValue,uicrEndAddress:$a.End,versionAddress:l,version:i,deviceVersion:s}}function D(e){var t=Da.fromHex(e),n=N(t),r=t.slice(n.runtimeStartAddress,n.runtimeEndAddress-n.runtimeStartAddress).asHexString().replace(":00000001FF","");return{originalIntelHex:e,originalMemMap:t,uPyIntelHex:r,uPyEndAddress:n.runtimeEndAddress,fsSize:X(t)}}function C(e){for(var t=[],n=Y(e),r=z(e),a=n,o=1;a<r;){var l=e.slicePad(a,1,255)[0];(255===l||0===l)&&t.push(o),o++,a+=128}return t}function Y(e){var t=N(e),n=32256;n+=t.flashPageSize-n%t.flashPageSize,1===t.deviceVersion&&(n+=t.flashPageSize);var r=t.runtimeEndAddress;2===t.deviceVersion&&(r+=t.flashPageSize);var a=U(e)-n,o=te(r,a);if(o%t.flashPageSize)throw new Error("File system start address from UICR does not align with flash page size.");return o}function U(t){var n=N(t),r=P(t)?e.AppendedBlock.StartAdd:n.flashSize;if(1===n.deviceVersion)r-=n.flashPageSize;else if(2===n.deviceVersion)r-=69632;else throw new Error("Unknown device flash map");return r}function z(e){var t=N(e);return U(e)-t.flashPageSize}function H(e){e.set(z(e),new Uint8Array([253]))}function w(e,t){return Y(e)+(t-1)*128}function $(e,t){var n=new Ka(e,t);return n.getFsFileSize()}function V(e,t,n){if(!t)throw new Error("File has to have a file name.");if(!n.length)throw new Error("File "+t+" has to contain data.");var r=C(e);if(0===r.length)throw new Error("There is no storage space left.");var a=w(e,r[0]),o=new Ka(t,n),l=o.getFsBytes(r);e.set(a,l),H(e)}function G(e,t,n){void 0===n&&(n=!1);var r="string"==typeof e?Da.fromHex(e):e.clone();var a=N(r);return Object.keys(t).forEach(function(e){V(r,e,t[e])}),n?r.slicePad(0,a.flashSize):r.asHexString()+"\n"}function W(e,t){var n=e.originalMemMap.clone();return Object.keys(t).forEach(function(e){V(n,e,t[e])}),e.uPyIntelHex+n.slice(e.uPyEndAddress).asHexString()+"\n"}function K(e){var t="string"==typeof e?Da.fromHex(e):e.clone();for(var n=Y(t),r=z(t),a={},o=[],l=n,i=1;l<r;){var s=t.slicePad(l,128,255),d=s[0];255!==d&&0!==d&&253!==d&&(a[i]=s,254===d&&o.push(i)),i++,l+=128}for(var c={},g=0,p=o;g<p.length;g++){var u=p[g],f=a[u],y=f[1],h=f[2],m=3+h,E=S(f.slice(3,m));if(c.hasOwnProperty(E))throw new Error("Found multiple files named: "+E+".");c[E]=new Uint8Array(0);for(var _=f,b=u,P=Object.keys(a).length+1;P--;){var v=_[127];if(255===v){c[E]=za(c[E],_.slice(m,1+y));break}else c[E]=za(c[E],_.slice(m,127));var T=a[v];if(!T)throw new Error("Chunk "+b+" points to unused index "+v+".");if(T[0]!==b)throw new Error("Chunk index "+v+" did not link to previous chunk index "+b+".");_=T,b=v,m=1}if(0>=P)throw new Error("Malformed file chunks did not link correctly.")}return c}function X(e){var t=N(e),n=Y(e),r=U(e);return r-n-t.flashPageSize}var re=function(e){try{return!!e()}catch(t){return!0}},ae=!re(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),oe=!1,le=t(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),ie=t(function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)}),se=ie.version,de=function(e){return"object"==typeof e?null!==e:"function"==typeof e},ce=function(e){if(!de(e))throw TypeError(e+" is not an object!");return e},ge=le.document,pe=de(ge)&&de(ge.createElement),ue=function(e){return pe?ge.createElement(e):{}},fe=!ae&&!re(function(){return 7!=Object.defineProperty(ue("div"),"a",{get:function(){return 7}}).a}),ye=function(e,t){if(!de(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!de(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!de(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!de(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},he=Object.defineProperty,me=ae?Object.defineProperty:function(e,t,n){if(ce(e),t=ye(t,!0),ce(n),fe)try{return he(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},f={f:me},Ee=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Se=ae?function(e,t,n){return f.f(e,t,Ee(1,n))}:function(e,t,n){return e[t]=n,e},_e={}.hasOwnProperty,be=function(e,t){return _e.call(e,t)},Pe=0,ve=Math.random(),Te=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++Pe+ve).toString(36))},xe=t(function(e){var t=le["__core-js_shared__"]||(le["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=n===void 0?{}:n)})("versions",[]).push({version:ie.version,mode:"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),ke=xe("native-function-to-string",Function.toString),Ae=t(function(e){var t=Te("src"),n="toString",r=(""+ke).split(n);ie.inspectSource=function(e){return ke.call(e)},(e.exports=function(e,n,a,o){var l="function"==typeof a;l&&(be(a,"name")||Se(a,"name",n));e[n]===a||(l&&(be(a,t)||Se(a,t,e[n]?""+e[n]:r.join(n+""))),e===le?e[n]=a:o?e[n]?e[n]=a:Se(e,n,a):(delete e[n],Se(e,n,a)))})(Function.prototype,n,function(){return"function"==typeof this&&this[t]||ke.call(this)})}),Oe=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Ie=function(e,t,n){return(Oe(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,a){return e.call(t,n,r,a)}:function(){return e.apply(t,arguments)}},Fe="prototype",Re=function(e,t,n){var r,a,o,l,i=e&Re.F,s=e&Re.G,d=e&Re.S,c=e&Re.P,g=e&Re.B,p=s?le:d?le[t]||(le[t]={}):(le[t]||{})[Fe],u=s?ie:ie[t]||(ie[t]={}),f=u[Fe]||(u[Fe]={});for(r in s&&(n=t),n)a=!i&&p&&void 0!==p[r],o=(a?p:n)[r],l=g&&a?Ie(o,le):c&&"function"==typeof o?Ie(Function.call,o):o,p&&Ae(p,r,o,e&Re.U),u[r]!=o&&Se(u,r,l),c&&f[r]!=o&&(f[r]=o)};le.core=ie,Re.F=1,Re.G=2,Re.S=4,Re.P=8,Re.B=16,Re.W=32,Re.U=64,Re.R=128;for(var Me,Be=Re,Le=Te("typed_array"),Ne=Te("view"),De=!!(le.ArrayBuffer&&le.DataView),Ce=De,Ye=0,Ue=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];Ye<9;)(Me=le[Ue[Ye++]])?(Se(Me.prototype,Le,!0),Se(Me.prototype,Ne,!0)):Ce=!1;var ze={ABV:De,CONSTR:Ce,TYPED:Le,VIEW:Ne},He=function(e,t,n){for(var r in t)Ae(e,r,t[r],n);return e},we=function(e,t,n,r){if(!(e instanceof t)||r!==void 0&&r in e)throw TypeError(n+": incorrect invocation!");return e},$e=function(e){return isNaN(e=+e)?0:(0<e?Q:ee)(e)},Ve=function(e){return 0<e?q($e(e),9007199254740991):0},je=function(e){if(e===void 0)return 0;var t=$e(e),n=Ve(t);if(t!==n)throw RangeError("Wrong length!");return n},Ge={}.toString,We=function(e){return Ge.call(e).slice(8,-1)},Ke=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==We(e)?e.split(""):Object(e)},Xe=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e},Ze=function(e){return Ke(Xe(e))},Je=function(e,t){return e=$e(e),0>e?te(e+t,0):q(e,t)},qe=function(e){return function(t,n,r){var a,o=Ze(t),l=Ve(o.length),i=Je(r,l);if(e&&n!=n){for(;l>i;)if(a=o[i++],a!=a)return!0;}else for(;l>i;i++)if((e||i in o)&&o[i]===n)return e||i||0;return!e&&-1}},Qe=xe("keys"),et=function(e){return Qe[e]||(Qe[e]=Te(e))},tt=qe(!1),nt=et("IE_PROTO"),rt=function(e,t){var n,r=Ze(e),a=0,o=[];for(n in r)n!=nt&&be(r,n)&&o.push(n);for(;t.length>a;)be(r,n=t[a++])&&(~tt(o,n)||o.push(n));return o},ot=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lt=ot.concat("length","prototype"),it=Object.getOwnPropertyNames||function(e){return rt(e,lt)},st={f:it},dt=function(e){return Object(Xe(e))},ct=function(e){for(var t=dt(this),n=Ve(t.length),r=arguments.length,a=Je(1<r?arguments[1]:void 0,n),o=2<r?arguments[2]:void 0,l=void 0===o?n:Je(o,n);l>a;)t[a++]=e;return t},gt=t(function(e){var t=xe("wks"),n=le.Symbol,r="function"==typeof n,a=e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Te)("Symbol."+e))};a.store=t}),pt=f.f,ut=gt("toStringTag"),ft=function(e,t,n){e&&!be(e=n?e:e.prototype,ut)&&pt(e,ut,{configurable:!0,value:t})},yt=t(function(e,t){function n(t,n,r){var a,o,l,d=Array(r),g=8*r-n-1,p=(1<<g)-1,u=p>>1,f=23===n?k(2,-24)-k(2,-77):0,y=0,h=0>t||0===t&&0>1/t?1:0;for(t=x(t),t!=t||t===v?(o=t==t?0:1,a=p):(a=A(O(t)/I),1>t*(l=k(2,-a))&&(a--,l*=2),t+=1<=a+u?f/l:f*k(2,1-u),2<=t*l&&(a++,l/=2),a+u>=p?(o=0,a=p):1<=a+u?(o=(t*l-1)*k(2,n),a+=u):(o=t*k(2,u-1)*k(2,n),a=0));8<=n;d[y++]=255&o,o/=256,n-=8);for(a=a<<n|o,g+=n;0<g;d[y++]=255&a,a/=256,g-=8);return d[--y]|=128*h,d}function r(t,n,r){var a,o=8*r-n-1,l=(1<<o)-1,d=l>>1,c=o-7,g=r-1,p=t[g--],u=127&p;for(p>>=7;0<c;u=256*u+t[g],g--,c-=8);for(a=u&(1<<-c)-1,u>>=-c,c+=n;0<c;a=256*a+t[g],g--,c-=8);if(0===u)u=1-d;else{if(u===l)return a?NaN:p?-v:v;a+=k(2,n),u-=d}return(p?-1:1)*a*k(2,u-n)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function l(e){return[255&e,255&e>>8]}function i(e){return[255&e,255&e>>8,255&e>>16,255&e>>24]}function s(e){return n(e,52,8)}function d(e){return n(e,23,4)}function c(e,t,n){y(e.prototype,t,{get:function(){return this[n]}})}function g(e,t,n,r){var a=je(+n);if(a+t>e[L])throw P("Wrong index!");var o=e[B]._b,l=a+e[N],i=o.slice(l,l+t);return r?i:i.reverse()}function p(e,t,n,r,a,o){var l=je(+n);if(l+t>e[L])throw P("Wrong index!");for(var s=e[B]._b,d=l+e[N],c=r(+a),g=0;g<t;g++)s[d+g]=c[o?g:t-g-1]}var u=st.f,y=f.f,h="ArrayBuffer",m="DataView",E="prototype",S=le[h],_=le[m],b=le.Math,P=le.RangeError,v=le.Infinity,T=S,x=b.abs,k=ne,A=Q,O=b.log,I=b.LN2,F="buffer",R="byteLength",M="byteOffset",B=ae?"_b":F,L=ae?"_l":R,N=ae?"_o":M;if(!ze.ABV)S=function(e){we(this,S,h);var t=je(e);this._b=ct.call(Array(t),0),this[L]=t},_=function(e,t,n){we(this,_,m),we(e,S,m);var r=e[L],a=$e(t);if(0>a||a>r)throw P("Wrong offset!");if(n=void 0===n?r-a:Ve(n),a+n>r)throw P("Wrong length!");this[B]=e,this[N]=a,this[L]=n},ae&&(c(S,R,"_l"),c(_,F,"_b"),c(_,R,"_l"),c(_,M,"_o")),He(_[E],{getInt8:function(e){return g(this,1,e)[0]<<24>>24},getUint8:function(e){return g(this,1,e)[0]},getInt16:function(e){var t=g(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=g(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(g(this,4,e,arguments[1]))},getUint32:function(e){return a(g(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(g(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(g(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,l,t,arguments[2])},setUint16:function(e,t){p(this,2,e,l,t,arguments[2])},setInt32:function(e,t){p(this,4,e,i,t,arguments[2])},setUint32:function(e,t){p(this,4,e,i,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,d,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,s,t,arguments[2])}});else{if(!re(function(){S(1)})||!re(function(){new S(-1)})||re(function(){return new S,new S(1.5),new S(NaN),S.name!=h})){S=function(e){return we(this,S),new T(je(e))};for(var D,C=S[E]=T[E],Y=u(T),U=0;Y.length>U;)(D=Y[U++])in S||Se(S,D,T[D]);C.constructor=S}var z=new _(new S(2)),H=_[E].setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),(z.getInt8(0)||!z.getInt8(1))&&He(_[E],{setInt8:function(e,t){H.call(this,e,t<<24>>24)},setUint8:function(e,t){H.call(this,e,t<<24>>24)}},!0)}ft(S,h),ft(_,m),Se(_[E],ze.VIEW,!0),t[h]=S,t[m]=_}),ht=gt("toStringTag"),mt="Arguments"==We(function(){return arguments}()),Et=function(e,t){try{return e[t]}catch(t){}},St=function(e){var t,n,r;return e===void 0?"Undefined":null===e?"Null":"string"==typeof(n=Et(t=Object(e),ht))?n:mt?We(t):"Object"==(r=We(t))&&"function"==typeof t.callee?"Arguments":r},_t={},bt=gt("iterator"),Pt=Array.prototype,vt=function(e){return e!==void 0&&(_t.Array===e||Pt[bt]===e)},Tt=Object.keys||function(e){return rt(e,ot)},xt=ae?Object.defineProperties:function(e,t){ce(e);for(var n,r=Tt(t),a=r.length,o=0;a>o;)f.f(e,n=r[o++],t[n]);return e},kt=le.document,At=kt&&kt.documentElement,Ot=et("IE_PROTO"),It=function(){},Ft="prototype",Rt=function(){var e,t=ue("iframe"),n=ot.length,r="<",a=">";for(t.style.display="none",At.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),Rt=e.F;n--;)delete Rt[Ft][ot[n]];return Rt()},Mt=Object.create||function(e,t){var n;return null===e?n=Rt():(It[Ft]=ce(e),n=new It,It[Ft]=null,n[Ot]=e),void 0===t?n:xt(n,t)},Bt=et("IE_PROTO"),Lt=Object.prototype,Nt=Object.getPrototypeOf||function(e){return e=dt(e),be(e,Bt)?e[Bt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Lt:null},Dt=gt("iterator"),Ct=ie.getIteratorMethod=function(e){if(e!=null)return e[Dt]||e["@@iterator"]||_t[St(e)]},Yt=Array.isArray||function(e){return"Array"==We(e)},Ut=gt("species"),zt=function(e){var t;return Yt(e)&&(t=e.constructor,"function"==typeof t&&(t===Array||Yt(t.prototype))&&(t=void 0),de(t)&&(t=t[Ut],null===t&&(t=void 0))),void 0===t?Array:t},Ht=function(e,t){return new(zt(e))(t)},wt=function(e,t){var n=1==e,r=4==e,a=6==e,o=t||Ht;return function(t,l,i){for(var s,d,c=dt(t),g=Ke(c),p=Ie(l,i,3),u=Ve(g.length),f=0,y=n?o(t,u):2==e?o(t,0):void 0;u>f;f++)if((5==e||a||f in g)&&(s=g[f],d=p(s,f,c),e))if(n)y[f]=d;else if(d)switch(e){case 3:return!0;case 5:return s;case 6:return f;case 2:y.push(s);}else if(r)return!1;return a?-1:3==e||r?r:y}},$t=gt("species"),Vt=function(e,t){var n,r=ce(e).constructor;return r===void 0||(n=ce(r)[$t])==null?t:Oe(n)},jt=gt("unscopables"),Gt=Array.prototype;Gt[jt]==null&&Se(Gt,jt,{});var Wt=function(e){Gt[jt][e]=!0},Kt=function(e,t){return{value:t,done:!!e}},Xt={};Se(Xt,gt("iterator"),function(){return this});var Zt=function(e,t,n){e.prototype=Mt(Xt,{next:Ee(1,n)}),ft(e,t+" Iterator")},Jt=gt("iterator"),qt=!([].keys&&"next"in[].keys()),Qt="keys",en="values",tn=function(){return this},nn=function(e,t,n,r,a,o,l){Zt(n,t,r);var i,s,d,c=function(e){return!qt&&e in f?f[e]:e===Qt?function(){return new n(this,e)}:e===en?function(){return new n(this,e)}:function(){return new n(this,e)}},g=t+" Iterator",p=a==en,u=!1,f=e.prototype,y=f[Jt]||f["@@iterator"]||a&&f[a],h=y||c(a),m=a?p?c("entries"):h:void 0,E="Array"==t?f.entries||y:y;if(E&&(d=Nt(E.call(new e)),d!==Object.prototype&&d.next&&(ft(d,g,!0),"function"!=typeof d[Jt]&&Se(d,Jt,tn))),p&&y&&y.name!==en&&(u=!0,h=function(){return y.call(this)}),(qt||u||!f[Jt])&&Se(f,Jt,h),_t[t]=h,_t[g]=tn,a)if(i={values:p?h:c(en),keys:o?h:c(Qt),entries:m},l)for(s in i)s in f||Ae(f,s,i[s]);else Be(Be.P+Be.F*(qt||u),t,i);return i},rn=nn(Array,"Array",function(e,t){this._t=Ze(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Kt(1)):"keys"==t?Kt(0,n):"values"==t?Kt(0,e[n]):Kt(0,[n,e[n]])},"values");_t.Arguments=_t.Array,Wt("keys"),Wt("values"),Wt("entries");var an=gt("iterator"),on=!1;try{var ln=[7][an]();ln["return"]=function(){on=!0},Array.from(ln,function(){throw 2})}catch(t){}var sn=function(e,t){if(!t&&!on)return!1;var n=!1;try{var r=[7],a=r[an]();a.next=function(){return{done:n=!0}},r[an]=function(){return a},e(r)}catch(t){}return n},dn=gt("species"),cn=function(e){var t=le[e];ae&&t&&!t[dn]&&f.f(t,dn,{configurable:!0,get:function(){return this}})},gn=[].copyWithin||function(e,t){var n=dt(this),r=Ve(n.length),a=Je(e,r),o=Je(t,r),l=2<arguments.length?arguments[2]:void 0,i=q((l===void 0?r:Je(l,r))-o,r-a),s=1;for(o<a&&a<o+i&&(s=-1,o+=i-1,a+=i-1);0<i--;)o in n?n[a]=n[o]:delete n[a],a+=s,o+=s;return n},pn={}.propertyIsEnumerable,un={f:pn},fn=Object.getOwnPropertyDescriptor,yn=ae?fn:function(e,t){if(e=Ze(e),t=ye(t,!0),fe)try{return fn(e,t)}catch(t){}return be(e,t)?Ee(!un.f.call(e,t),e[t]):void 0},hn={f:yn},mn=t(function(e){if(ae){var t=oe,n=le,r=re,a=Be,o=ze,l=yt,i=we,s=Se,d=He,c=Ve,g=je,p=Je,u=ye,y=be,h=St,m=de,E=dt,S=st.f,_=Te,b=gt,P=wt,v=qe,T=Vt,x=rn,k=f,A=hn,I=k.f,O=A.f,F=n.RangeError,R=n.TypeError,M=n.Uint8Array,B="ArrayBuffer",L="Shared"+B,N="BYTES_PER_ELEMENT",D="prototype",C=Array[D],Y=l.ArrayBuffer,U=l.DataView,z=P(0),H=P(2),w=P(3),$=P(4),V=P(5),j=P(6),G=v(!0),W=v(!1),K=x.values,X=x.keys,Z=x.entries,J=C.lastIndexOf,q=C.reduce,ee=C.reduceRight,te=C.join,ne=C.sort,ie=C.slice,se=C.toString,ce=C.toLocaleString,ge=b("iterator"),pe=b("toStringTag"),ue=_("typed_constructor"),fe=_("def_constructor"),he=o.CONSTR,me=o.TYPED,_e=o.VIEW,Pe="Wrong length!",ve=P(1,function(e,t){return Fe(T(e,e[fe]),t)}),xe=r(function(){return 1===new M(new Uint16Array([1]).buffer)[0]}),ke=!!M&&!!M[D].set&&r(function(){new M(1).set({})}),Ae=function(e,t){var n=$e(e);if(0>n||n%t)throw F("Wrong offset!");return n},Oe=function(e){if(m(e)&&me in e)return e;throw R(e+" is not a typed array!")},Fe=function(e,t){if(!(m(e)&&ue in e))throw R("It is not a typed array constructor!");return new e(t)},Re=function(e,t){return Me(T(e,e[fe]),t)},Me=function(e,t){for(var n=0,r=t.length,a=Fe(e,r);r>n;)a[n]=t[n++];return a},Le=function(e,t,n){I(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,r,a,o,l,s=E(e),d=arguments.length,g=1<d?arguments[1]:void 0,p=g!==void 0,u=Ct(s);if(u!=null&&!vt(u)){for(l=u.call(s),r=[],t=0;!(o=l.next()).done;t++)r.push(o.value);s=r}for(p&&2<d&&(g=Ie(g,arguments[2],2)),t=0,n=c(s.length),a=Fe(this,n);n>t;t++)a[t]=p?g(s[t],t):s[t];return a},De=function(){for(var e=0,t=arguments.length,n=Fe(this,t);t>e;)n[e]=arguments[e++];return n},Ce=!!M&&r(function(){ce.call(new M(1))}),Ye=function(){return ce.apply(Ce?ie.call(Oe(this)):Oe(this),arguments)},Ue={copyWithin:function(e,t){return gn.call(Oe(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return $(Oe(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(){return ct.apply(Oe(this),arguments)},filter:function(e){return Re(this,H(Oe(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return V(Oe(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return j(Oe(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){z(Oe(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return W(Oe(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return G(Oe(this),e,1<arguments.length?arguments[1]:void 0)},join:function(){return te.apply(Oe(this),arguments)},lastIndexOf:function(){return J.apply(Oe(this),arguments)},map:function(e){return ve(Oe(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(){return q.apply(Oe(this),arguments)},reduceRight:function(){return ee.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,r=Q(n/2),a=0;a<r;)e=t[a],t[a++]=t[--n],t[n]=e;return t},some:function(e){return w(Oe(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return ne.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,a=p(e,r);return new(T(n,n[fe]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,c((t===void 0?r:p(t,r))-a))}},Ge=function(e,t){return Re(this,ie.call(Oe(this),e,t))},We=function(e){Oe(this);var t=Ae(arguments[1],1),n=this.length,r=E(e),a=c(r.length),o=0;if(a+t>n)throw F(Pe);for(;o<a;)this[t+o]=r[o++]},Ke={entries:function(){return Z.call(Oe(this))},keys:function(){return X.call(Oe(this))},values:function(){return K.call(Oe(this))}},Xe=function(e,t){return m(e)&&e[me]&&"symbol"!=typeof t&&t in e&&+t+""==t+""},Ze=function(e,t){return Xe(e,t=u(t,!0))?Ee(2,e[t]):O(e,t)},Qe=function(e,t,n){return Xe(e,t=u(t,!0))&&m(n)&&y(n,"value")&&!y(n,"get")&&!y(n,"set")&&!n.configurable&&(!y(n,"writable")||n.writable)&&(!y(n,"enumerable")||n.enumerable)?(e[t]=n.value,e):I(e,t,n)};he||(A.f=Ze,k.f=Qe),a(a.S+a.F*!he,"Object",{getOwnPropertyDescriptor:Ze,defineProperty:Qe}),r(function(){se.call({})})&&(se=ce=function(){return te.call(this)});var et=d({},Ue);d(et,Ke),s(et,ge,Ke.values),d(et,{slice:Ge,set:We,constructor:function(){},toString:se,toLocaleString:Ye}),Le(et,"buffer","b"),Le(et,"byteOffset","o"),Le(et,"byteLength","l"),Le(et,"length","e"),I(et,pe,{get:function(){return this[me]}}),e.exports=function(e,l,d,p){p=!!p;var u=e+(p?"Clamped":"")+"Array",f=n[u],y=f||{},E=f&&Nt(f),_=!f||!o.ABV,b={},P=f&&f[D],v=function(t,n){var r=t._d;return r.v["get"+e](n*l+r.o,xe)},T=function(t,n,r){var a=t._d;p&&(r=0>(r=Math.round(r))?0:255<r?255:255&r),a.v["set"+e](n*l+a.o,r,xe)},x=function(e,t){I(e,t,{get:function(){return v(this,t)},set:function(e){return T(this,t,e)},enumerable:!0})};_?(f=d(function(e,t,n,r){i(e,f,u,"_d");var a,o,d,p,y=0,E=0;if(!m(t))d=g(t),o=d*l,a=new Y(o);else if(t instanceof Y||(p=h(t))==B||p==L){a=t,E=Ae(n,l);var S=t.byteLength;if(void 0===r){if(S%l)throw F(Pe);if(o=S-E,0>o)throw F(Pe)}else if(o=c(r)*l,o+E>S)throw F(Pe);d=o/l}else return me in t?Me(f,t):Ne.call(f,t);for(s(e,"_d",{b:a,o:E,l:o,e:d,v:new U(a)});y<d;)x(e,y++)}),P=f[D]=Mt(et),s(P,"constructor",f)):(!r(function(){f(1)})||!r(function(){new f(-1)})||!sn(function(e){new f,new f(null),new f(1.5),new f(e)},!0))&&(f=d(function(e,t,n,r){i(e,f,u);var a;return m(t)?t instanceof Y||(a=h(t))==B||a==L?void 0===r?void 0===n?new y(t):new y(t,Ae(n,l)):new y(t,Ae(n,l),r):me in t?Me(f,t):Ne.call(f,t):new y(g(t))}),z(E===Function.prototype?S(y):S(y).concat(S(E)),function(e){e in f||s(f,e,y[e])}),f[D]=P,!t&&(P.constructor=f));var k=P[ge],A=!!k&&("values"==k.name||k.name==null),O=Ke.values;s(f,ue,!0),s(P,me,u),s(P,_e,!0),s(P,fe,f),(p?new f(1)[pe]!=u:!(pe in P))&&I(P,pe,{get:function(){return u}}),b[u]=f,a(a.G+a.W+a.F*(f!=y),b),a(a.S,u,{BYTES_PER_ELEMENT:l}),a(a.S+a.F*r(function(){y.of.call(f,1)}),u,{from:Ne,of:De}),N in P||s(P,N,l),a(a.P,u,Ue),cn(u),a(a.P+a.F*ke,u,{set:We}),a(a.P+a.F*!A,u,Ke),t||P.toString==se||(P.toString=se),a(a.P+a.F*r(function(){new f(1).slice()}),u,{slice:Ge}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!r(function(){P.toLocaleString.call([1,2])})),u,{toLocaleString:Ye}),_t[u]=A?k:O,t||A||s(P,ge,O)}}else e.exports=function(){}});mn("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}}),Be(Be.P,"Array",{fill:ct}),Wt("fill");var En=function(e){return function(t,n){var r,o,d=Xe(t)+"",s=$e(n),i=d.length;return 0>s||s>=i?e?"":void 0:(r=d.charCodeAt(s),55296>r||56319<r||s+1===i||56320>(o=d.charCodeAt(s+1))||57343<o?e?d.charAt(s):r:e?d.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}},Sn=En(!0),at=function(e,t,n){return t+(n?Sn(e,t).length:1)},_n=RegExp.prototype.exec,bn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==St(e))throw new TypeError("RegExp#exec called on incompatible receiver");return _n.call(e,t)},Pn=function(){var e=ce(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},vn=RegExp.prototype.exec,Tn=J.replace,xn=vn,kn="lastIndex",An=function(){var e=/a/,t=/b*/g;return vn.call(e,"a"),vn.call(t,"a"),0!==e[kn]||0!==t[kn]}(),On=/()??/.exec("")[1]!==void 0;(An||On)&&(xn=function(e){var t,n,r,a,o=this;return On&&(n=new RegExp("^"+o.source+"$(?!\\s)",Pn.call(o))),An&&(t=o[kn]),r=vn.call(o,e),An&&r&&(o[kn]=o.global?r.index+r[0].length:t),On&&r&&1<r.length&&Tn.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r});var In=xn;Be({target:"RegExp",proto:!0,forced:In!==/./.exec},{exec:In});var Fn=gt("species"),Rn=!re(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Mn=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Bn=function(e,t,n){var r=gt(e),a=!re(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)}),o=a?!re(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[Fn]=function(){return n}),n[r](""),!t}):void 0;if(!a||!o||"replace"===e&&!Rn||"split"===e&&!Mn){var l=/./[r],i=n(Xe,r,""[e],function(e,t,n,r,o){return t.exec===In?a&&!o?{done:!0,value:l.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),s=i[0],d=i[1];Ae(String.prototype,e,s),Se(RegExp.prototype,r,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}},Ln=function(e){return e===void 0?e:e+""};Bn("replace",2,function(e,t,n,r){function a(e,t,r,a,o,l){var i=r+e.length,s=a.length,d=/\$([$&`']|\d\d?)/g;return void 0!==o&&(o=dt(o),d=/\$([$&`']|\d\d?|<[^>]*>)/g),n.call(l,d,function(l,d){var c;switch(d.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(i);case"<":c=o[d.slice(1,-1)];break;default:var g=+d;if(0==g)return l;if(g>s){var n=Q(g/10);return 0===n?l:n<=s?void 0===a[n-1]?d.charAt(1):a[n-1]+d.charAt(1):l}c=a[g-1];}return void 0===c?"":c})}return[function(r,a){var o=e(this),l=r==null?void 0:r[t];return l===void 0?n.call(o+"",r,a):l.call(r,o,a)},function(e,t){var o=r(n,e,this,t);if(o.done)return o.value;var l=ce(e),s=this+"",d="function"==typeof t;d||(t=t+"");var c=l.global;if(c){var g=l.unicode;l.lastIndex=0}for(var p,u=[];(p=bn(l,s),null!==p)&&!(u.push(p),!c);){var f=p[0]+"";""==f&&(l.lastIndex=at(s,Ve(l.lastIndex),g))}for(var y="",h=0,m=0;m<u.length;m++){p=u[m];for(var E=p[0]+"",S=te(q($e(p.index),s.length),0),_=[],b=1;b<p.length;b++)_.push(Ln(p[b]));var P=p.groups;if(d){var v=[E].concat(_,S,s);P!==void 0&&v.push(P);var T=t.apply(void 0,v)+""}else T=a(E,s,S,_,P,t);S>=h&&(y+=s.slice(h,S)+T,h=S+E.length)}return y+s.slice(h)}]});var Nn=function(t,n,e,r){try{return r?n(ce(e)[0],e[1]):n(e)}catch(n){var a=t["return"];throw void 0!==a&&ce(a.call(t)),n}},Dn=t(function(e){var t={},n={},r=e.exports=function(e,r,a,o,l){var i,s,d,c,g=l?function(){return e}:Ct(e),p=Ie(a,o,r?2:1),u=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(vt(g)){for(i=Ve(e.length);i>u;u++)if(c=r?p(ce(s=e[u])[0],s[1]):p(e[u]),c===t||c===n)return c;}else for(d=g.call(e);!(s=d.next()).done;)if(c=Nn(d,p,s.value,r),c===t||c===n)return c};r.BREAK=t,r.RETURN=n}),Cn=t(function(e){var t=Te("meta"),n=f.f,r=0,a=Object.isExtensible||function(){return!0},o=!re(function(){return a(Object.preventExtensions({}))}),l=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},i=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!de(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!be(e,t)){if(!a(e))return"F";if(!n)return"E";l(e)}return e[t].i},getWeak:function(e,n){if(!be(e,t)){if(!a(e))return!0;if(!n)return!1;l(e)}return e[t].w},onFreeze:function(e){return o&&i.NEED&&a(e)&&!be(e,t)&&l(e),e}}}),Yn=Cn.KEY,Un=Cn.NEED,zn=Cn.fastKey,Hn=Cn.getWeak,wn=Cn.onFreeze,$n=function(e,t){if(!de(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e},Vn=f.f,jn=Cn.fastKey,Gn=ae?"_s":"size",Wn=function(e,t){var n,r=jn(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n},Kn={getConstructor:function(e,t,n,r){var a=e(function(e,o){we(e,a,t,"_i"),e._t=t,e._i=Mt(null),e._f=void 0,e._l=void 0,e[Gn]=0,null!=o&&Dn(o,n,e[r],e)});return He(a.prototype,{clear:function(){for(var e=$n(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[Gn]=0},delete:function(e){var n=$n(this,t),r=Wn(n,e);if(r){var a=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=a),a&&(a.p=o),n._f==r&&(n._f=a),n._l==r&&(n._l=o),n[Gn]--}return!!r},forEach:function(e){$n(this,t);for(var n,r=Ie(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!Wn($n(this,t),e)}}),ae&&Vn(a.prototype,"size",{get:function(){return $n(this,t)[Gn]}}),a},def:function(e,t,n){var r,a,o=Wn(e,t);return o?o.v=n:(e._l=o={i:a=jn(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},!e._f&&(e._f=o),r&&(r.n=o),e[Gn]++,"F"!==a&&(e._i[a]=o)),e},getEntry:Wn,setStrong:function(e,t,n){nn(e,t,function(e,n){this._t=$n(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?Kt(0,n.k):"values"==t?Kt(0,n.v):Kt(0,[n.k,n.v]):(e._t=void 0,Kt(1))},n?"entries":"values",!n,!0),cn(t)}},Xn=function(e,t){if(ce(e),!de(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},Zn={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=Ie(Function.call,hn.f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return Xn(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:Xn},Jn=Zn.set,qn=function(e,t,n){var r,a=t.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&de(r)&&Jn&&Jn(e,r),e},Qn=function(e,t,n,r,a,o){var l=le[e],i=l,s=a?"set":"add",d=i&&i.prototype,c={},g=function(e){var t=d[e];Ae(d,e,"delete"==e?function(e){return(!o||de(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return(!o||de(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!de(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"!=typeof i||!(o||d.forEach&&!re(function(){new i().entries().next()})))i=r.getConstructor(t,e,a,s),He(i.prototype,n),Cn.NEED=!0;else{var p=new i,u=p[s](o?{}:-0,1)!=p,f=re(function(){p.has(1)}),y=sn(function(e){new i(e)}),h=!o&&re(function(){for(var e=new i,t=5;t--;)e[s](t,t);return!e.has(-0)});y||(i=t(function(t,n){we(t,i,e);var r=qn(new l,t,i);return null!=n&&Dn(n,a,r[s],r),r}),i.prototype=d,d.constructor=i),(f||h)&&(g("delete"),g("has"),a&&g("get")),(h||u)&&g(s),o&&d.clear&&delete d.clear}return ft(i,e),c[e]=i,Be(Be.G+Be.W+Be.F*(i!=l),c),o||r.setStrong(i,e,a),i},er="Set",tr=Qn(er,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return Kn.def($n(this,er),e=0===e?0:e,e)}},Kn);Bn("match",1,function(e,t,r,a){return[function(n){var r=e(this),a=n==null?void 0:n[t];return a===void 0?new RegExp(n)[t](r+""):a.call(n,r)},function(e){var t=a(r,e,this);if(t.done)return t.value;var o=ce(e),l=this+"";if(!o.global)return bn(o,l);var i=o.unicode;o.lastIndex=0;for(var s,d=[],c=0;null!==(s=bn(o,l));){var g=s[0]+"";d[c]=g,""==g&&(o.lastIndex=at(l,Ve(o.lastIndex),i)),c++}return 0===c?null:d}]});var nr=function(e,t,n){t in e?f.f(e,t,Ee(0,n)):e[t]=n};Be(Be.S+Be.F*!sn(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,a,o=dt(e),l="function"==typeof this?this:Array,i=arguments.length,s=1<i?arguments[1]:void 0,d=void 0!==s,c=0,g=Ct(o);if(d&&(s=Ie(s,2<i?arguments[2]:void 0,2)),null!=g&&!(l==Array&&vt(g)))for(a=g.call(o),n=new l;!(r=a.next()).done;c++)nr(n,c,d?Nn(a,s,[r.value,c],!0):r.value);else for(t=Ve(o.length),n=new l(t);t>c;c++)nr(n,c,d?s(o[c],c):o[c]);return n.length=c,n}});var rr=[].sort,ar=[1,2,3];Be(Be.P+Be.F*(re(function(){ar.sort(void 0)})||!re(function(){ar.sort(null)})||!function(e,t){return!!e&&re(function(){t?e.call(null,function(){},1):e.call(null)})}(rr)),"Array",{sort:function(e){return e===void 0?rr.call(dt(this)):rr.call(dt(this),Oe(e))}});(function(e,t){var n=(ie.Object||{})[e]||Object[e],r={};r[e]=t(n),Be(Be.S+Be.F*re(function(){n(1)}),"Object",r)})("keys",function(){return function(e){return Tt(dt(e))}});var or={f:gt},lr=f.f,ir=function(e){var t=ie.Symbol||(ie.Symbol=le.Symbol||{});"_"==e.charAt(0)||e in t||lr(t,e,{value:or.f(e)})};ir("asyncIterator");var sr=Object.getOwnPropertySymbols,dr={f:sr},cr=function(e){var t=Tt(e),n=dr.f;if(n)for(var r,a=n(e),o=un.f,l=0;a.length>l;)o.call(e,r=a[l++])&&t.push(r);return t},gr=st.f,pr={}.toString,ur="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],fr=function(e){try{return gr(e)}catch(t){return ur.slice()}},yr={f:function(e){return ur&&"[object Window]"==pr.call(e)?fr(e):gr(Ze(e))}},hr=Cn.KEY,mr=hn.f,Er=f.f,Sr=yr.f,_r=le.Symbol,br=le.JSON,Pr=br&&br.stringify,vr="prototype",Tr=gt("_hidden"),xr=gt("toPrimitive"),kr={}.propertyIsEnumerable,Ar=xe("symbol-registry"),Or=xe("symbols"),Ir=xe("op-symbols"),Fr=Object[vr],Rr="function"==typeof _r&&!!dr.f,Mr=le.QObject,Br=!Mr||!Mr[vr]||!Mr[vr].findChild,Lr=ae&&re(function(){return 7!=Mt(Er({},"a",{get:function(){return Er(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=mr(Fr,t);r&&delete Fr[t],Er(e,t,n),r&&e!==Fr&&Er(Fr,t,r)}:Er,Nr=function(e){var t=Or[e]=Mt(_r[vr]);return t._k=e,t},Dr=Rr&&"symbol"==typeof _r.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof _r},Cr=function(e,t,n){return e===Fr&&Cr(Ir,t,n),ce(e),t=ye(t,!0),ce(n),be(Or,t)?(n.enumerable?(be(e,Tr)&&e[Tr][t]&&(e[Tr][t]=!1),n=Mt(n,{enumerable:Ee(0,!1)})):(!be(e,Tr)&&Er(e,Tr,Ee(1,{})),e[Tr][t]=!0),Lr(e,t,n)):Er(e,t,n)},Yr=function(e,t){ce(e);for(var n,r=cr(t=Ze(t)),a=0,o=r.length;o>a;)Cr(e,n=r[a++],t[n]);return e},Ur=function(e){var t=kr.call(this,e=ye(e,!0));return(this!==Fr||!be(Or,e)||be(Ir,e))&&(!(t||!be(this,e)||!be(Or,e)||be(this,Tr)&&this[Tr][e])||t)},zr=function(e,t){if(e=Ze(e),t=ye(t,!0),e!==Fr||!be(Or,t)||be(Ir,t)){var n=mr(e,t);return n&&be(Or,t)&&!(be(e,Tr)&&e[Tr][t])&&(n.enumerable=!0),n}},Hr=function(e){for(var t,n=Sr(Ze(e)),r=[],a=0;n.length>a;)be(Or,t=n[a++])||t==Tr||t==hr||r.push(t);return r},wr=function(e){for(var t,n=e===Fr,r=Sr(n?Ir:Ze(e)),a=[],o=0;r.length>o;)be(Or,t=r[o++])&&(!n||be(Fr,t))&&a.push(Or[t]);return a};Rr||(_r=function(){if(this instanceof _r)throw TypeError("Symbol is not a constructor!");var e=Te(0<arguments.length?arguments[0]:void 0),t=function(n){this===Fr&&t.call(Ir,n),be(this,Tr)&&be(this[Tr],e)&&(this[Tr][e]=!1),Lr(this,e,Ee(1,n))};return ae&&Br&&Lr(Fr,e,{configurable:!0,set:t}),Nr(e)},Ae(_r[vr],"toString",function(){return this._k}),hn.f=zr,f.f=Cr,st.f=yr.f=Hr,un.f=Ur,dr.f=wr,ae&&!oe&&Ae(Fr,"propertyIsEnumerable",Ur,!0),or.f=function(e){return Nr(gt(e))}),Be(Be.G+Be.W+Be.F*!Rr,{Symbol:_r});for(var $r=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],Vr=0;$r.length>Vr;)gt($r[Vr++]);for(var jr=Tt(gt.store),Gr=0;jr.length>Gr;)ir(jr[Gr++]);Be(Be.S+Be.F*!Rr,"Symbol",{for:function(e){return be(Ar,e+="")?Ar[e]:Ar[e]=_r(e)},keyFor:function(e){if(!Dr(e))throw TypeError(e+" is not a symbol!");for(var t in Ar)if(Ar[t]===e)return t},useSetter:function(){Br=!0},useSimple:function(){Br=!1}}),Be(Be.S+Be.F*!Rr,"Object",{create:function(e,t){return t===void 0?Mt(e):Yr(Mt(e),t)},defineProperty:Cr,defineProperties:Yr,getOwnPropertyDescriptor:zr,getOwnPropertyNames:Hr,getOwnPropertySymbols:wr});var Wr=re(function(){dr.f(1)});Be(Be.S+Be.F*Wr,"Object",{getOwnPropertySymbols:function(e){return dr.f(dt(e))}}),br&&Be(Be.S+Be.F*(!Rr||re(function(){var e=_r();return"[null]"!=Pr([e])||"{}"!=Pr({a:e})||"{}"!=Pr(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(de(t)||void 0!==e)&&!Dr(e))return Yt(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Dr(t))return t}),r[1]=t,Pr.apply(br,r)}}),_r[vr][xr]||Se(_r[vr],xr,_r[vr].valueOf),ft(_r,"Symbol"),ft(Math,"Math",!0),ft(le.JSON,"JSON",!0);for(var Kr=gt("iterator"),Xr=gt("toStringTag"),Zr=_t.Array,Jr={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},qr=Tt(Jr),Qr=0;Qr<qr.length;Qr++){var ea,ta=qr[Qr],na=Jr[ta],ra=le[ta],aa=ra&&ra.prototype;if(aa&&(aa[Kr]||Se(aa,Kr,Zr),aa[Xr]||Se(aa,Xr,ta),_t[ta]=Zr,na))for(ea in rn)aa[ea]||Ae(aa,ea,rn[ea],!0)}var oa=En(!0);nn(String,"String",function(e){this._t=e+"",this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=oa(t,n),this._i+=e.length,{value:e,done:!1})});var la=Qn("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=Kn.getEntry($n(this,"Map"),e);return t&&t.v},set:function(e,t){return Kn.def($n(this,"Map"),0===e?0:e,t)}},Kn,!0),ia="\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF",sa="["+ia+"]",da="\u200B\x85",ca=RegExp("^"+sa+sa+"*"),ga=RegExp(sa+sa+"*$"),pa=function(e,t,n){var r={},a=re(function(){return!!ia[e]()||da[e]()!=da}),o=r[e]=a?t(ua):ia[e];n&&(r[n]=o),Be(Be.P+Be.F*a,"String",r)},ua=pa.trim=function(e,t){return e=Xe(e)+"",1&t&&(e=e.replace(ca,"")),2&t&&(e=e.replace(ga,"")),e},fa=st.f,ya=hn.f,ha=f.f,ma=pa.trim,Ea="Number",Sa=le[Ea],_a=Sa,ba=Sa.prototype,Pa=We(Mt(ba))==Ea,va=("trim"in J),Ta=function(e){var t=ye(e,!1);if("string"==typeof t&&2<t.length){t=va?t.trim():ma(t,3);var n,r,a,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN;}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t;}for(var s,d=t.slice(2),c=0,g=d.length;c<g;c++)if(s=d.charCodeAt(c),48>s||s>a)return NaN;return parseInt(d,r)}}return+t};if(!Sa(" 0o1")||!Sa("0b1")||Sa("+0x1")){Sa=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof Sa&&(Pa?re(function(){ba.valueOf.call(n)}):We(n)!=Ea)?qn(new _a(Ta(t)),n,Sa):Ta(t)};for(var xa,ka=ae?fa(_a):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Aa=0;ka.length>Aa;Aa++)be(_a,xa=ka[Aa])&&!be(Sa,xa)&&ha(Sa,xa,ya(_a,xa));Sa.prototype=ba,ba.constructor=Sa,Ae(le,Ea,Sa)}Be(Be.S,"Number",{isInteger:function(e){return!de(e)&&isFinite(e)&&Q(e)===e}}),ae&&"g"!=/./g.flags&&f.f(RegExp.prototype,"flags",{configurable:!0,get:Pn});var Oa=/./.toString,Ia=function(e){Ae(RegExp.prototype,"toString",e,!0)};re(function(){return"/a/b"!=Oa.call({source:"a",flags:"b"})})?Ia(function(){var e=ce(this);return"/".concat(e.source,"/","flags"in e?e.flags:!ae&&e instanceof RegExp?Pn.call(e):void 0)}):Oa.name!="toString"&&Ia(function(){return Oa.call(this)});({})[gt("toStringTag")]="z",Ae(Object.prototype,"toString",function(){return"[object "+St(this)+"]"},!0);var Fa=function(e){var t=Xe(this)+"",r="",a=$e(e);if(0>a||a==1/0)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r},Ra=function(e,t,n,r){var a=Xe(e)+"",o=a.length,l=void 0===n?" ":n+"",i=Ve(t);if(i<=o||""==l)return a;var s=i-o,d=Fa.call(l,ee(s/l.length));return d.length>s&&(d=d.slice(0,s)),r?d+a:a+d},Ma=le.navigator,Ba=Ma&&Ma.userAgent||"",La=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Ba);Be(Be.P+Be.F*La,"String",{padStart:function(e){return Ra(this,e,1<arguments.length?arguments[1]:void 0,!0)}});var Na=/:([0-9A-Fa-f]{8,})([0-9A-Fa-f]{2})(?:\r\n|\r|\n|)/g;Z=Z||function(e){return"number"==typeof e&&isFinite(e)&&Q(e)===e};var Da=function(){function e(t){if(r(this,e),this._blocks=new Map,t&&"function"==typeof t[Symbol.iterator]){var a,o=u(t);try{for(o.s();!(a=o.n()).done;){var l=a.value;if(!(l instanceof Array)||2!==l.length)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined");this.set(l[0],l[1])}}catch(e){o.e(e)}finally{o.f()}}else if("object"===n(t))for(var i,s=Object.keys(t),d=0,c=s;d<c.length;d++)i=c[d],this.set(parseInt(i),t[i]);else if(void 0!==t&&null!==t)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined")}return o(e,[{key:"set",value:function(e,t){if(!Z(e))throw new Error("Address passed to MemoryMap is not an integer");if(0>e)throw new Error("Address passed to MemoryMap is negative");if(!(t instanceof Uint8Array))throw new Error("Bytes passed to MemoryMap are not an Uint8Array");return this._blocks.set(e,t)}},{key:"get",value:function(e){return this._blocks.get(e)}},{key:"clear",value:function(){return this._blocks.clear()}},{key:"delete",value:function(e){return this._blocks.delete(e)}},{key:"entries",value:function(){return this._blocks.entries()}},{key:"forEach",value:function(e,t){return this._blocks.forEach(e,t)}},{key:"has",value:function(e){return this._blocks.has(e)}},{key:"keys",value:function(){return this._blocks.keys()}},{key:"values",value:function(){return this._blocks.values()}},{key:Symbol.iterator,value:function(){return this._blocks[Symbol.iterator]()}},{key:"join",value:function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1/0,n=Array.from(this.keys()).sort(function(e,t){return e-t}),r=new Map,a=-1,o=-1,s=0,d=n.length;s<d;s++){var l=n[s],c=this.get(n[s]).length;if(o===l&&o-a<t)r.set(a,r.get(a)+c),o+=c;else if(o<=l)r.set(l,c),a=l,o=l+c;else throw new Error("Overlapping data around address 0x"+l.toString(16))}for(var g,p,u=new e,f=-1,y=0,h=n.length;y<h;y++)p=n[y],r.has(p)&&(g=new Uint8Array(r.get(p)),u.set(p,g),f=p),g.set(this.get(p),p-f);return u}},{key:"paginate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1024,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255;if(0>=t)throw new Error("Page size must be greater than zero");for(var r,a=new e,o=Array.from(this.keys()).sort(function(e,t){return e-t}),s=0,d=o.length;s<d;s++)for(var l=o[s],c=this.get(l),g=c.length,p=l-l%t;p<l+g;p+=t){r=a.get(p),r||(r=new Uint8Array(t),r.fill(n),a.set(p,r));var u=p-l,f=void 0;0>=u?(f=c.subarray(0,q(t+u,g)),r.set(f,-u)):(f=c.subarray(u,u+q(t,g-u)),r.set(f,0))}return a}},{key:"getUint32",value:function(e,t){for(var n=Array.from(this.keys()),r=0,a=n.length;r<a;r++){var o=n[r],l=this.get(o),s=l.length;if(o<=e&&e+4<=o+s)return new DataView(l.buffer,e-o,4).getUint32(0,t)}}},{key:"asHexString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:16,t=0,n=-65536,r=[];if(0>=e)throw new Error("Size of record must be greater than zero");else if(255<e)throw new Error("Size of record must be less than 256");for(var a=new Uint8Array(6),o=new Uint8Array(4),s=Array.from(this.keys()).sort(function(e,t){return e-t}),d=0,c=s.length;d<c;d++){var l=s[d],g=this.get(l);if(!(g instanceof Uint8Array))throw new Error("Block at offset "+l+" is not an Uint8Array");if(0>l)throw new Error("Block at offset "+l+" has a negative thus invalid address");var p=g.length;if(p){if(l>n+65535&&(n=l-l%65536,t=0,a[0]=2,a[1]=0,a[2]=0,a[3]=4,a[4]=n>>24,a[5]=n>>16,r.push(":"+Array.prototype.map.call(a,m).join("")+m(y(a)))),l<n+t)throw new Error("Block starting at 0x"+l.toString(16)+" overlaps with a previous block.");t=l%65536;var u=0,f=l+p;if(4294967295<f)throw new Error("Data cannot be over 0xFFFFFFFF");for(;n+t<f;){65535<t&&(n+=65536,t=0,a[0]=2,a[1]=0,a[2]=0,a[3]=4,a[4]=n>>24,a[5]=n>>16,r.push(":"+Array.prototype.map.call(a,m).join("")+m(y(a))));for(var E=-1;65536>t&&E;)if(E=q(e,f-n-t,65536-t),E){o[0]=E,o[1]=t>>8,o[2]=t,o[3]=0;var S=g.subarray(u,u+E);r.push(":"+Array.prototype.map.call(o,m).join("")+Array.prototype.map.call(S,m).join("")+m(h(o,S))),u+=E,t+=E}}}}return r.push(":00000001FF"),r.join("\n")}},{key:"clone",value:function(){var t,n=new e,r=u(this);try{for(r.s();!(t=r.n()).done;){var a=l(t.value,2),o=a[0],i=a[1];n.set(o,new Uint8Array(i))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"slice",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0;if(0>n)throw new Error("Length of the slice cannot be negative");var r,a=new e,o=u(this);try{for(o.s();!(r=o.n()).done;){var i=l(r.value,2),s=i[0],d=i[1],c=d.length;if(s+c>=t&&s<t+n){var g=te(t,s),p=q(t+n,s+c),f=p-g,y=g-s;0<f&&a.set(g,d.subarray(y,y+f))}}}catch(e){o.e(e)}finally{o.f()}return a}},{key:"slicePad",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:255;if(0>t)throw new Error("Length of the slice cannot be negative");var r,a=new Uint8Array(t).fill(n),o=u(this);try{for(o.s();!(r=o.n()).done;){var i=l(r.value,2),s=i[0],d=i[1],c=d.length;if(s+c>=e&&s<e+t){var g=te(e,s),p=q(e+t,s+c),f=p-g,y=g-s;0<f&&a.set(d.subarray(y,y+f),g-e)}}}catch(e){o.e(e)}finally{o.f()}return a}},{key:"contains",value:function(e){var t,n=u(e);try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),a=r[0],o=r[1],s=o.length,d=this.slice(a,s).join().get(a);if(!d||d.length!==s)return!1;for(var c in o)if(o[c]!==d[c])return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"size",get:function(){return this._blocks.size}}],[{key:"fromHex",value:function(t){var n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1/0,a=new e,o=0,i=0,s=0;for(Na.lastIndex=0;null!==(n=Na.exec(t));){if(i++,o!==n.index)throw new Error("Malformed hex file: Could not parse between characters "+o+" and "+n.index+" (\""+t.substring(o,q(n.index,o+16)).trim()+"\")");o=Na.lastIndex;var d=n,c=l(d,3),g=c[1],p=c[2],u=new Uint8Array(g.match(/[\da-f]{2}/gi).map(function(e){return parseInt(e,16)})),f=u[0];if(f+4!==u.length)throw new Error("Mismatched record length at record "+i+" ("+n[0].trim()+"), expected "+f+" data bytes but actual length is "+(u.length-4));var h=y(u);if(parseInt(p,16)!==h)throw new Error("Checksum failed at record "+i+" ("+n[0].trim()+"), should be "+h.toString(16));var E=(u[1]<<8)+u[2],S=u[3],_=u.subarray(4);if(0===S){if(a.has(s+E))throw new Error("Duplicated data at record "+i+" ("+n[0].trim()+")");if(65536<E+_.length)throw new Error("Data at record "+i+" ("+n[0].trim()+") wraps over 0xFFFF. This would trigger ambiguous behaviour. Please restructure your data so that for every record the data offset plus the data length do not exceed 0xFFFF.");a.set(s+E,_)}else{if(0!==E)throw new Error("Record "+i+" ("+n[0].trim()+") must have 0000 as data offset.");switch(S){case 1:if(o!==t.length)throw new Error("There is data after an EOF record at record "+i);return a.join(r);case 2:s=(_[0]<<8)+_[1]<<4;break;case 3:break;case 4:s=(_[0]<<8)+_[1]<<16;break;case 5:break;default:throw new Error("Invalid record type 0x"+m(S)+" at record "+i+" (should be between 0x00 and 0x05)");}}}if(i)throw new Error("No EOF record at end of file");else throw new Error("Malformed .hex file, could not parse any registers")}},{key:"overlapMemoryMaps",value:function(e){var t,n=new Set,r=u(e);try{for(r.s();!(t=r.n()).done;){var a,o=l(t.value,2),s=o[1],d=u(s);try{for(d.s();!(a=d.n()).done;){var c=l(a.value,2),g=c[0],p=c[1];n.add(g),n.add(g+p.length)}}catch(e){d.e(e)}finally{d.f()}}}catch(e){r.e(e)}finally{r.f()}for(var f=Array.from(n.values()).sort(function(e,t){return e-t}),y=new Map,h=function(t){var n,r=f[t],a=f[t+1],o=[],i=u(e);try{for(i.s();!(n=i.n()).done;){var s=l(n.value,2),d=s[0],c=s[1],g=Array.from(c.keys()).reduce(function(e,t){return t>r?e:te(e,t)},-1);if(-1!==g){var p=c.get(g),h=r-g;h<p.length&&o.push([d,p.subarray(h,a-g)])}}}catch(e){i.e(e)}finally{i.f()}o.length&&y.set(r,o)},m=0,E=f.length-1;m<E;m++)h(m);return y}},{key:"flattenOverlaps",value:function(t){return new e(Array.from(t.entries()).map(function(e){var t=l(e,2),n=t[0],r=t[1];return[n,r[r.length-1][1]]}))}},{key:"fromPaddedUint8Array",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:255,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:64;if(!(t instanceof Uint8Array))throw new Error("Bytes passed to fromPaddedUint8Array are not an Uint8Array");for(var a,o=new e,i=0,s=-1,d=0,c=!1,g=t.length,l=0;l<g;l++)a=t[l],a===n?(i++,i>=r&&(-1!==s&&o.set(d,t.subarray(d,s+1)),c=!0)):(c&&(c=!1,d=l),s=l,i=0);return c||-1===s||o.set(d,t.subarray(d,g)),o}}]),e}(),Ca=t(function(e){function t(){}function n(){}(function(){var o=String.fromCharCode;function e(e,t){t=t||1/0;for(var n,r=e.length,a=null,o=[],l=0;l<r;l++){if(n=e.charCodeAt(l),!(55295<n&&57344>n))a&&(-1<(t-=3)&&o.push(239,191,189),a=null);else if(a){if(56320>n){-1<(t-=3)&&o.push(239,191,189),a=n;continue}else n=65536|(a-55296<<10|n-56320),a=null;}else if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}else if(l+1===r){-1<(t-=3)&&o.push(239,191,189);continue}else{a=n;continue}if(128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else if(2097152>n){if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error("Invalid code point")}return o}function r(e,t,n){var r="",l="";n=q(e.length,n||1/0),t=t||0;for(var s=t;s<n;s++)127>=e[s]?(r+=a(l)+o(e[s]),l=""):l+="%"+e[s].toString(16);return r+a(l)}function a(e){try{return decodeURIComponent(e)}catch(e){return o(65533)}}t.prototype.encode=function(t){var n;return n="undefined"==typeof Uint8Array?e(t):new Uint8Array(e(t)),n},n.prototype.decode=function(e){return r(e,0,e.length)}})(),e&&(e.exports.TextDecoderLite=n,e.exports.TextEncoderLite=t)}),Ya=Ca.TextDecoderLite,Ua=Ca.TextEncoderLite,za=function(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n};(function(e){e[e.StartAdd=253952]="StartAdd",e[e.Length=8192]="Length",e[e.EndAdd=262144]="EndAdd"})(e.AppendedBlock||(e.AppendedBlock={}));var Ha=un.f,wa=function(e){return function(t){for(var n,r=Ze(t),a=Tt(r),o=a.length,l=0,s=[];o>l;)n=a[l++],(!ae||Ha.call(r,n))&&s.push(e?[n,r[n]]:r[n]);return s}}(!1);Be(Be.S,"Object",{values:function(e){return wa(e)}});var $a,Va=[{deviceVersion:1,magicHeader:401518716,flashSize:262144},{deviceVersion:2,magicHeader:1206825084,flashSize:524288}];(function(e){e[e.MagicValue=268439552+128+64]="MagicValue",e[e.EndMarker=e.MagicValue+4]="EndMarker",e[e.PageSize=e.EndMarker+4]="PageSize",e[e.StartPage=e.PageSize+4]="StartPage",e[e.PagesUsed=e.StartPage+2]="PagesUsed",e[e.Delimiter=e.PagesUsed+2]="Delimiter",e[e.VersionLocation=e.Delimiter+4]="VersionLocation",e[e.RegionsTerminator=e.VersionLocation+4]="RegionsTerminator",e[e.End=e.RegionsTerminator+4]="End"})($a||($a={}));var ja=1,Ga=128-ja-1,Wa=120,Ka=function(){function e(e,t){if(this._filename=e,this._filenameBytes=E(e),this._filenameBytes.length>Wa)throw new Error("File name \""+e+"\" is too long "+("(max "+Wa+" characters)."));this._dataBytes=t;var n=this._generateFileHeaderBytes();this._fsDataBytes=new Uint8Array(n.length+this._dataBytes.length+1),this._fsDataBytes.set(n,0),this._fsDataBytes.set(this._dataBytes,n.length),this._fsDataBytes[this._fsDataBytes.length-1]=255}return e.prototype.getFsChunks=function(e){var t=[],n=0,r=0,a=new Uint8Array(128).fill(255);a[0]=254;for(var o=q(this._fsDataBytes.length,Ga),l=0;l<o;l++,r++)a[ja+l]=this._fsDataBytes[r];for(t.push(a);r<this._fsDataBytes.length;){if(n++,n>=e.length)throw new Error("Not enough space for the "+this._filename+" file.");var s=t[t.length-1];s[127]=e[n],a=new Uint8Array(128).fill(255),a[0]=e[n-1],o=q(this._fsDataBytes.length-r,Ga);for(var l=0;l<o;l++,r++)a[ja+l]=this._fsDataBytes[r];t.push(a)}return t},e.prototype.getFsBytes=function(e){for(var t=this.getFsChunks(e),n=128*t.length,r=new Uint8Array(n),a=0;a<t.length;a++)r.set(t[a],128*a);return r},e.prototype.getFsFileSize=function(){var e=ee(this._fsDataBytes.length/Ga);return 128*e},e.prototype._generateFileHeaderBytes=function(){var e=1+1+this._filenameBytes.length,t=(e+this._dataBytes.length)%Ga,n=e-this._filenameBytes.length,r=new Uint8Array(e);r[0]=t,r[1]=this._filenameBytes.length;for(var a=n;a<e;++a)r[a]=this._filenameBytes[a-n];return r},e}(),Xa=function(){function e(e,t){if(!e)throw new Error("File was not provided a valid filename.");if(!t)throw new Error("File "+e+" does not have valid content.");if(this.filename=e,"string"==typeof t)this._dataBytes=E(t);else if(t instanceof Uint8Array)this._dataBytes=t;else throw new Error("File data type must be a string or Uint8Array.")}return e.prototype.getText=function(){return S(this._dataBytes)},e.prototype.getBytes=function(){return this._dataBytes},e}(),Za=function(){function e(e,t){var n=(void 0===t?{}:t).maxFsSize,r=void 0===n?0:n;if(this._files={},this._storageSize=0,!e)throw new Error("Invalid MicroPython hex invalid.");this._uPyFsBuilderCache=D(e),this.setStorageSize(r||this._uPyFsBuilderCache.fsSize);var a=K(this._uPyFsBuilderCache.originalMemMap);if(Object.keys(a).length)throw new Error("There are files in the MicropythonFsHex constructor hex file input.")}return e.prototype.create=function(e,t){if(this.exists(e))throw new Error("File already exists.");this.write(e,t)},e.prototype.write=function(e,t){this._files[e]=new Xa(e,t)},e.prototype.append=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");throw new Error("Append operation not yet implemented.")},e.prototype.read=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return this._files[e].getText()},e.prototype.readBytes=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return this._files[e].getBytes()},e.prototype.remove=function(e){if(!e)throw new Error("Invalid filename.");if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");delete this._files[e]},e.prototype.exists=function(e){return this._files.hasOwnProperty(e)},e.prototype.size=function(e){if(!e)throw new Error("Invalid filename: "+e);if(!this.exists(e))throw new Error("File \""+e+"\" does not exist.");return $(this._files[e].filename,this._files[e].getBytes())},e.prototype.ls=function(){var e=[];return Object.values(this._files).forEach(function(t){return e.push(t.filename)}),e},e.prototype.setStorageSize=function(e){if(e>this._uPyFsBuilderCache.fsSize)throw new Error("Storage size limit provided is larger than size available in the MicroPython hex.");this._storageSize=e},e.prototype.getStorageSize=function(){return this._storageSize},e.prototype.getStorageUsed=function(){var e=this,t=0;return Object.values(this._files).forEach(function(n){return t+=e.size(n.filename)}),t},e.prototype.getStorageRemaining=function(){var e=this,t=0,n=this.getStorageSize();return Object.values(this._files).forEach(function(n){return t+=e.size(n.filename)}),n-t},e.prototype.importFilesFromIntelHex=function(e,t){var n=this,r=void 0===t?{}:t,a=r.overwrite,o=r.formatFirst,l=K(e);if(!Object.keys(l).length)throw new Error("Hex does not have any files to import");void 0!==o&&o&&(delete this._files,this._files={});var i=[];if(Object.keys(l).forEach(function(e){!(void 0!==a&&a)&&n.exists(e)?i.push(e):n.write(e,l[e])}),i.length)throw new Error("Files \"\" from hex already exists.");return Object.keys(l)},e.prototype.getIntelHex=function(){if(0>this.getStorageRemaining())throw new Error("There is no storage space left.");var e={};return Object.values(this._files).forEach(function(t){e[t.filename]=t.getBytes()}),W(this._uPyFsBuilderCache,e)},e.prototype.getIntelHexBytes=function(){if(0>this.getStorageRemaining())throw new Error("There is no storage space left.");var e={};return Object.values(this._files).forEach(function(t){e[t.filename]=t.getBytes()}),G(this._uPyFsBuilderCache.originalMemMap,e,!0)},e}();e.MicropythonFsHex=Za,e.addIntelHexAppendedScript=function(t,n){var r=E(n),a=b(r);if(a.length>e.AppendedBlock.Length)throw new RangeError("Too long");var o=_(t),l=Da.fromHex(o);return l.set(e.AppendedBlock.StartAdd,a),l.asHexString()+"\n"},e.cleanseOldHexFormat=_,e.getHexMapUicrData=N,e.getIntelHexAppendedScript=function(t){var n="",r=Da.fromHex(t);if(r.has(e.AppendedBlock.StartAdd)){var a=r.slice(e.AppendedBlock.StartAdd,e.AppendedBlock.Length),o=a.get(e.AppendedBlock.StartAdd);o[0]===77&&o[1]===80&&(n=S(o.slice(4)),n=n.replace(/\0/g,""))}return n},e.getIntelHexUicrData=function(e){return N(Da.fromHex(e))},e.isAppendedScriptPresent=P,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=microbit-fs.umd.min.js.map
